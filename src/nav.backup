import React, { useContext } from "react";
import { BrowserRouter, Route, Link, Switch, Redirect } from 'react-router-dom'; 
import ChooseACocktail from './chooseacocktail';
import RandomCocktail from "./randomcocktail";
import YourCocktails from "./yourcocktails";
import CocktailSearch from './cocktailsearch';
import Login from './login';
import Home from './home';
import { Layout, Menu } from 'antd';
import './navigation.css';
import { AuthContext } from "./Auth";
import { logOut } from "./base";



function Navigation(props){
    const { Header, Content, Footer } = Layout;
    const {currentUser} = useContext(AuthContext);


    return (
        <BrowserRouter>
        {/* <Layout style={{width: '100%'}} breakpoint="lg"> */}
        <Header style={{backgroundImage: 'linear-gradient(#261447, #2E2157)'}}>
        <Menu style={{backgroundImage: 'linear-gradient(#261447, #2E2157)', 
        display: 'flex', 
        flexDirection: 'row', 
        justifyContent: 'space-between', 
        fontFamily: 'OutrunFuture',
        fontSize: '20px',
        }}  mode="horizontal">
            <Menu.Item key="1">
                <Link to="/">Home</Link>
            </Menu.Item>
            <Menu.Item key="2">
                <Link to="/randomcocktail">Random Cocktail</Link>
            </Menu.Item>
            <Menu.Item key="3">
                <Link to="/chooseacocktail">What Should I Make?</Link>
            </Menu.Item>
            <Menu.Item key="4">
                <Link to="/cocktailsearch">Cocktail Search</Link>
            </Menu.Item>
            <Menu.Item key="5">
                <Link to="/yourcocktails">Your Cocktails</Link>
            </Menu.Item>
            <Menu.Item key="6">
                {!!currentUser ? 
                <button onClick={logOut}>Sign Out</button>  :
                <Link to="/login">Login</Link>}
            </Menu.Item>

        </Menu>
        </Header>
        <Content>
        <div className="site-layout-content">
            <Switch>
                <Route exact path="/" component={Home} />
                <Route exact path="/randomcocktail" component={RandomCocktail} />
                <Route exact path="/chooseacocktail" component={ChooseACocktail} />
                <Route exact path="/cocktailsearch" component={CocktailSearch} />
                <Route exact path="/login" component={Login} />
                {!!currentUser ? <Route exact path="/yourcocktails" component={YourCocktails} /> :
                <Redirect to={"/login"} />}

                
            </Switch>
        </div>
        </Content>
        
        <footer style={{ textAlign: 'center', backgroundImage: 'linear-gradient(#FD3777, #F706CF)'}}> Nick Gourlay Â©2021</footer>
        {/* </Layout> */}

        </BrowserRouter>
    );
}

export default Navigation;